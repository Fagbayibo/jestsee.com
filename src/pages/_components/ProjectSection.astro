---
import { getCollection } from 'astro:content'

import Link from '@/components/Link'
import ProjectCard from '@/components/ProjectCard'
import ProjectHeader from '@/components/ProjectHeader.astro'

const projects = await getCollection('projects')
---

<section class='mt-40'>
  <div class='items-center justify-between gap-4 lg:flex'>
    <ProjectHeader transition:name='project-header' />
    <Link
      href='/projects'
      class:list={[
        'text-sm tracking-wider max-lg:hidden',
        'rounded-full border border-emerald-400 px-6 py-3 text-emerald-400'
      ]}
    >
      View all projects
    </Link>
  </div>
  <div class='mt-12 grid gap-12 sm:grid-cols-2 lg:grid-cols-3'>
    {projects.map(({ slug, data }) => <ProjectCard slug={slug} {...data} />)}
  </div>
</section>
