---
import { getCollection } from 'astro:content'

import FancyLink from '@/components/FancyLink.astro'
import ProjectCard from '@/components/ProjectCard'
import ProjectHeader from '@/components/ProjectHeader.astro'

const projects = await getCollection('projects')
---

<section id='projects' class='mt-40 scroll-mt-16 sm:scroll-mt-32'>
  <div class='items-center justify-between gap-4 lg:flex'>
    <ProjectHeader forHomePage transition:name='project-header' />
    <FancyLink class='max-lg:hidden' href='/projects'
      >View all projects</FancyLink
    >
  </div>
  <div class='mt-12 grid gap-12 sm:grid-cols-2 lg:grid-cols-3'>
    {
      projects.map(({ slug, data }) => (
        <ProjectCard slug={slug} {...data} disableTransition />
      ))
    }
  </div>
</section>
